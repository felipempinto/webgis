{% extends  "main/header.html"%}

{% block content %}
{% load static %}

<!-- Create the map container element -->
<div id="map"></div>

<a href="/" id="refreshButton" class="waves-effect waves-light btn-small">Home</a>
<!-- <button id="refreshButton">Go home</button> -->


<style>
   #map { 
    position:absolute; 
    top:0; 
    bottom:0; 
    width:100%; 
  }

   #refreshButton {
  position: absolute;
  top: 20px;
  right: 20px;
  z-index: 400;
  background-color: blanchedalmond;
  color: black;
}
</style>

<script>

  var raw_data = '{{geojson|escapejs|safe}}';
  var geojson = JSON.parse(raw_data);
</script>

<!-- Initialize the map with Leaflet -->
<script>

  // Create the map
  var map = L.map('map');

  // Set the initial view and zoom level
  map.setView([51.505, -0.09], 13);

  // Add a basemap layer
  L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
}).addTo(map);

  // Add the GeoJSON layer to the map
  L.geoJSON(geojson).addTo(map);
</script>
{% endblock %}
